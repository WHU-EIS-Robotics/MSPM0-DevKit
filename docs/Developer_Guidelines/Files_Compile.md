# 文件架构及编译规范

## 1. 文件架构

对于每一个单项工程，建议采用如下文件架构：

```
├── BSP   // Board Specific Peripheral板级外设驱动
│   ├── inc // 头文件
│   └── src // 源文件
├── Core  // 单片机核心文件
│   ├── inc // 头文件
│   └── src // 源文件
├── Driver // 单片机驱动文件
│   ├── CMSIS // Cortex-M系列CPU驱动库，无需更改
│   │   └── Core
│   │       └── Include
│   └── ti
│       ├── devices  // 不同型号的单片机定义
│       └── driverlib // MSPM0系列外设驱动库
└── keil // Keil MDK文件
```

## 2. 编译规范

### 2.1 优化选项

默认选择-O0优化，即不做任何优化。

建议选择-Og优化选项，以生成更完备的调试信息。

### 2.2 编译参数

### 2.3 不允许使用静态库

在Ti官方给出的SDK的示例代码中链接了Driverlib的静态库，但是对于学生来说，直接链接静态库而不给出源代码会导致无法Debug到对应的代码，因此不便于学生调试，且已经编译好的静态库的编译选项可能与预期不同，导致一些无法预料的问题。

因此，建议使用源码编译。需要将`<SDK_PATH>/source/ti/driverlib/`文件夹导入Keil工程，并添加所有源文件到工程中，把`ti`文件夹的父文件夹纳入Include目录。